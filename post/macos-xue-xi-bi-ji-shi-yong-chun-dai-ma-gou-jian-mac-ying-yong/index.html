<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>macOS学习笔记--使用纯代码构建macOS应用 &middot; </title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="/post/macos-xue-xi-bi-ji-shi-yong-chun-dai-ma-gou-jian-mac-ying-yong/" />

     <meta name="description" content="&lt;h2 id=&#34;no-1-the-start&#34;&gt;NO.1 The Start&lt;/h2&gt;

&lt;p&gt;起初,由于拖延症,这篇文章我不想发的,但是纯代码构建项目的demo又写好了.前两天群里的朋友又问我要纯代码的demo.索性就借着机会把demo扔出来好了.给自己的懒癌加强一针.&lt;/p&gt;" /> 

     
    
    <meta name="twitter:card" content="summary"/>
    
 
    <meta name="twitter:title" content="macOS学习笔记--使用纯代码构建macOS应用"/>
    <meta name="twitter:description" content="&lt;h2 id=&#34;no-1-the-start&#34;&gt;NO.1 The Start&lt;/h2&gt;

&lt;p&gt;起初,由于拖延症,这篇文章我不想发的,但是纯代码构建项目的demo又写好了.前两天群里的朋友又问我要纯代码的demo.索性就借着机会把demo扔出来好了.给自己的懒癌加强一针.&lt;/p&gt;"/>
    <meta name="twitter:url" content="/post/macos-xue-xi-bi-ji-shi-yong-chun-dai-ma-gou-jian-mac-ying-yong/" />
    <meta name="twitter:site" content="@faketryghost"/>

    <meta property="og:site_name" content="" />
    <meta property="og:title" content="macOS学习笔记--使用纯代码构建macOS应用 &middot; Hugo Casper Two" />
    <meta property="og:url" content="/post/macos-xue-xi-bi-ji-shi-yong-chun-dai-ma-gou-jian-mac-ying-yong/" />
    <meta property="article:publisher" content="https://www.facebook.com/fakeghost" />

    <meta property="og:type" content="article" />
    <meta property="og:description" content="&lt;h2 id=&#34;no-1-the-start&#34;&gt;NO.1 The Start&lt;/h2&gt;

&lt;p&gt;起初,由于拖延症,这篇文章我不想发的,但是纯代码构建项目的demo又写好了.前两天群里的朋友又问我要纯代码的demo.索性就借着机会把demo扔出来好了.给自己的懒癌加强一针.&lt;/p&gt;" />

    <meta property="article:published_time" content="2017-06-30T23:03:38Z" />
    <meta property="article:tag" content="macOS" /><meta property="article:tag" content="Swift" />

    <meta property="og:image" content="/img/blog-cover.jpg"/>

    <meta name="generator" content="Hugo 0.55.6" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="/built/screen.css" /> 
    <link rel="stylesheet" type="text/css" href="/css/casper-two.css" /> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
    

     

</head>


<body class="post-template">
  <div class="site-wrapper"> 

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
      <div class="site-nav-left">
        <a class="site-nav-logo" href="#"><img src="/hugo-logo.png" alt="Hugo Casper Two" /></a>

        <ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/golang/">Go</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/categories/">Categories</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="https://google.com/">External</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/fakeghost" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg></a>

                    <a class="social-link social-link-tw" href="https://twitter.com/faketryghost" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/eueung" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    <a class="social-link" href="https://www.linkedin.com/in/eueung" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 50 512 512"><path d="M150.65,100.682c0,27.992-22.508,50.683-50.273,50.683c-27.765,0-50.273-22.691-50.273-50.683 C50.104,72.691,72.612,50,100.377,50C128.143,50,150.65,72.691,150.65,100.682z M143.294,187.333H58.277V462h85.017V187.333z M279.195,187.333h-81.541V462h81.541c0,0,0-101.877,0-144.181c0-38.624,17.779-61.615,51.807-61.615 c31.268,0,46.289,22.071,46.289,61.615c0,39.545,0,144.181,0,144.181h84.605c0,0,0-100.344,0-173.915 s-41.689-109.131-99.934-109.131s-82.768,45.369-82.768,45.369V187.333z" /></svg></a>

                    
        </div>  
            
      </div>

    </nav>  

  </div>
</header>

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
      <article class="post-full post"> 
    <header class="post-full-header">
        <section class="post-full-meta">
            <time class="post-full-meta-date" datetime="2017-06-30">30 June 2017</time>
                <span class="date-divider">/</span> <a href="/tags/macos/">#macOS</a>&nbsp;<a href="/tags/swift/">#Swift</a>&nbsp;
        </section>
        <h1 class="post-full-title">macOS学习笔记--使用纯代码构建macOS应用</h1>
    </header>
    
    <figure class="post-full-image" style="background-image: url(/defimg/5.jpg)">
    </figure>

    <section class="post-full-content">
        <div class="kg-card-markdown">
        <h2 id="no-1-the-start">NO.1 The Start</h2>

<p>起初,由于拖延症,这篇文章我不想发的,但是纯代码构建项目的demo又写好了.前两天群里的朋友又问我要纯代码的demo.索性就借着机会把demo扔出来好了.给自己的懒癌加强一针.</p>

<h2 id="no-2-the-message">NO.2 The Message</h2>

<p>首先,从项目的结构开始看起.(因为懒,并没有做MVC分层,只是完成了基本的实现)</p>

<p><img src="./../../../../images/14988325462785.jpg" alt="" /></p>

<p>首先,最大的问题就是<code>main.swift</code>这个入口文件.默认的macOS工程是没有这个文件的.既然要用纯代码构建,那就把<code>info.plist</code>文件里面的指定Storyboard文件的部分删掉.这个跟iOS开发还是一模一样的.然后删掉<code>Main.storyboard</code>这个文件,反正没用了.删掉就是了.</p>

<p><img src="./../../../../images/14988327463717.jpg" alt="" /></p>

<p>然后,开始手写入口的main函数.在这里,你需要做两件事.第一,就是在实例化NSMenu对象.因为把storyboard删掉了,所以如果不实例化NSMenu的话,你得程序启动起来,左上角的菜单将空空如也.第二,就是手动实例化应用.因为是从头开始写,所以之前自动帮你生成的东西你也要自己写一遍(阿西巴,代码好多..当然了,快捷键也要自己绑定,这时候,你就可以随意开脑洞了,比如,⌘+Q改成新建&hellip;&hellip;代码如下:</p>

<pre><code class="language-swift">import Cocoa

func mainMenu() -&gt; NSMenu {
    let    mainMenu             =    NSMenu()
    let    mainAppMenuItem      =    NSMenuItem(title: &quot;Application&quot;, action: nil, keyEquivalent: &quot;&quot;)
    let    mainFileMenuItem     =    NSMenuItem(title: &quot;File&quot;, action: nil, keyEquivalent: &quot;&quot;)
    mainMenu.addItem(mainAppMenuItem)
    mainMenu.addItem(mainFileMenuItem)
    
    let    appMenu              =    NSMenu()
    mainAppMenuItem.submenu     =    appMenu
    
    let    appServicesMenu      =    NSMenu()
    NSApp.servicesMenu          =    appServicesMenu
    appMenu.addItem(withTitle: &quot;About&quot;, action: nil, keyEquivalent: &quot;&quot;)
    appMenu.addItem(NSMenuItem.separator())
    appMenu.addItem(withTitle: &quot;Preferences...&quot;, action: nil, keyEquivalent: &quot;,&quot;)
    appMenu.addItem(NSMenuItem.separator())
    appMenu.addItem(withTitle: &quot;Hide&quot;, action: #selector(NSApplication.hide(_:)), keyEquivalent: &quot;h&quot;)
    appMenu.addItem({ ()-&gt;NSMenuItem in
        let m = NSMenuItem(title: &quot;Hide Others&quot;, action: #selector(NSApplication.hideOtherApplications(_:)), keyEquivalent: &quot;h&quot;)
        m.keyEquivalentModifierMask = NSEvent.ModifierFlags([.command, .option])
        return m
        }())
    appMenu.addItem(withTitle: &quot;Show All&quot;, action: #selector(NSApplication.unhideAllApplications(_:)), keyEquivalent: &quot;&quot;)
    
    appMenu.addItem(NSMenuItem.separator())
    appMenu.addItem(withTitle: &quot;Services&quot;, action: nil, keyEquivalent: &quot;&quot;).submenu    =    appServicesMenu
    appMenu.addItem(NSMenuItem.separator())
    appMenu.addItem(withTitle: &quot;Quit&quot;, action: #selector(NSApplication.terminate(_:)), keyEquivalent: &quot;q&quot;)
    
    let    fileMenu             =    NSMenu(title: &quot;File&quot;)
    mainFileMenuItem.submenu    =    fileMenu
    fileMenu.addItem(withTitle: &quot;New...&quot;, action: #selector(NSDocumentController.newDocument(_:)), keyEquivalent: &quot;n&quot;)
    
    return mainMenu
}

autoreleasepool {
    let app =   NSApplication.shared //创建应用
    let delegate = AppDelegate()
    app.delegate =  delegate //配置应用代理
    app.mainMenu = mainMenu() //配置菜单，mainMenu 函数需要前向定义，否则编译错误
    app.run() //启动应用
}
</code></pre>

<p>iOS的程序都是单窗口的,所以没有<code>WindowController</code>这个概念,而macOS不一样,如果是单窗口就坏事了.所以引入了<code>WindowController</code>这个概念,其实这个跟<code>View</code>和<code>ViewController</code>是差不多的.所以对<code>Window</code>的所有操作直接写在<code>WindowController</code>里面就好了.对<code>View</code>的操作写在<code>ViewController</code>里面.</p>

<p>由于是纯代码工程.所以我们需要手动创建自己的<code>WindowController</code>和<code>ViewController</code>.然后,在<code>AppDelegate.swift</code>里面对<code>WindowController</code>进行实例化.注意注释掉<code>@NSApplicationMain</code>.最后使用<code>WindowController</code>的<code>showWindow</code>方法把这个窗口显示出来.</p>

<pre><code class="language-swift">class AppDelegate: NSObject, NSApplicationDelegate {
    
    lazy var windowController: KZWindowController = {
        let windowController = KZWindowController()
        return windowController
    }()
    
    func applicationDidFinishLaunching(_ aNotification: Notification) {
        // Insert code here to initialize your application
        self.windowController.showWindow(self)
    }

    func applicationWillTerminate(_ aNotification: Notification) {
        // Insert code here to tear down your application
    }


}
</code></pre>

<p>然后,在<code>WindowController</code>里面初始化<code>Window</code>.定义<code>Window</code>的大小,座标以及各种属性.然后重写<code>init</code>方法和<code>init?(coder:)</code>方法.最后,在<code>init</code>方法里面实例化<code>ViewController</code>.</p>

<pre><code class="language-swift">class KZWindowController: NSWindowController {

    override func windowDidLoad() {
        super.windowDidLoad()
        
    }
    
    lazy var myWindow: NSWindow? = {
        let frame: CGRect = CGRect(x: 0, y: 0, width: 400, height: 280)
        let style: NSWindow.StyleMask = [.titled,.closable,.resizable]
        let back: NSWindow.BackingStoreType = .buffered
        let window: KZWindow = KZWindow(contentRect: frame, styleMask: style, backing: back, defer: false)
        window.title = &quot;Test Window&quot;
        window.windowController = self
        return window
}()
    
    lazy var viewController: KZViewController = {
        let viewController = KZViewController()
        return viewController
    }()
    
    override init(window: NSWindow?) {
        super.init(window: window)
        self.window = self.myWindow
        self.contentViewController = self.viewController
        self.window?.center()
    }
    
    required init?(coder: NSCoder) {
        fatalError(&quot;init(coder:) has not been implemented&quot;)
    }

}
</code></pre>

<p>剩下的在<code>ViewController</code>里面实例化<code>View</code>就跟iOS差不了太多了.</p>

<pre><code class="language-swift">class KZViewController: NSViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        // Do view setup here.
    }
    
    lazy var myView: KZView = {
        let frame: CGRect = CGRect(x: 0, y: 0, width: 400, height: 300)
        let view: KZView = KZView(frame: frame)
        return view
    }()
    
    override init(nibName nibNameOrNil: NSNib.Name?, bundle nibBundleOrNil: Bundle?) {
        super.init(nibName: nibNameOrNil, bundle: nibBundleOrNil)
        self.view = self.myView
    }
    
    required init?(coder: NSCoder) {
        fatalError(&quot;init(coder:) has not been implemented&quot;)
    }
    
}
</code></pre>

<p>最后,⌘+R运行一下,只要没有语法错误,这时候应用就已经启动了.然后你就会发现,WTF!!!写了这么多,就一个白板&hellip;..就是下面这个.</p>

<p><img src="./../../../../images/14988345216468.jpg" alt="" /></p>

<p>啥都没有,干净的像是白瓷砖&hellip;.所以说,没有什么特殊的需求,不要使用纯代码&hellip;.第一是累,第二嘛,就是麻烦.很多东西明明自动处理好了,但是还是要自己手写.比如上面的<code>NSMenu</code>.如果真的要使用代码的话,建议保留<code>NSMenu</code>相关的视图可视化部分.能省很多的功夫,少写很多不必要的代码.</p>

<h2 id="no-3-the-code">NO.3 The Code</h2>

<p><a href="https://github.com/KarlZeo/macOSNoSBXib">https://github.com/KarlZeo/macOSNoSBXib</a></p>

<h2 id="no-4-thanks-for">NO.4 Thanks for</h2>

<p><a href="http://macdev.io/">剑指人心</a>大佬的入门书籍以及Demo.</p>

<h2 id="no-5-changelog">NO.5 ChangeLog</h2>

<p>2018.03.26 代码升级<code>Swift 4</code>,替换部分图片为代码块.</p>

<p>2017.06.30 发布,代码基于<code>Swift 3.1</code>.</p>    
        </div>
    </section>

    <footer class="post-full-footer">
      <section class="author-card">
        <img class="author-profile-image" src="/img/ghost-icon.png" alt="Author" />
        <section class="author-card-content">
            <h4 class="author-card-name"><a href="/">EM</a></h4>
                <p>Your description here</p>
        </section>
      </section>
    </footer>
</article>
    
    
    

  </div>
</main>


<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      
<article class="read-next-card" 
            style="background-image: url(/img/blog-cover.jpg);" >
    <header class="read-next-card-header">
        <small class="read-next-card-header-sitetitle">&mdash; Hugo Casper Two &mdash;</small>
        
        <h3 class="read-next-card-header-title"><a href="/tags/macos/">#macOS</a></h3>
    </header>
    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
    </div>

    <div class="read-next-card-content">
      
        <ul>
          <li><a href="/post/chong-zhi-mysql-mi-ma/">重置 MySQL 密码</a></li>            
        
          <li><a href="/post/fix-the-problem-named-is-apparently-in-use-by-the-system/">修正安装Arch Linux时 is apparently in use by the system; will not make a filesystem here! 的问题</a></li>            
        
          <li><a href="/post/xiu-fu-ios-10-yue-yu-huan-jing-ssh-bu-neng-yong-de-wen-ti/">修复iOS 10越狱环境SSH不能用的问题</a></li>            
        
          <li><a href="/post/phpstorm-pei-zhi-ji-lu/">PHPStorm配置记录</a></li>            
        </ul>
    </div>
    <footer class="read-next-card-footer">
      
        <a href="/tags/macos/">See all related posts →</a>
    </footer>
</article>


      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/post/xiu-fu-homebrew-warning-insecure-world-writable-dir/">
      <div class="post-card-image" style="background-image: url(/defimg/5.jpg)"></div>
    </a>    
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/post/xiu-fu-homebrew-warning-insecure-world-writable-dir/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #macOS 
              #Homebrew  </span>
              
              <h2 class="post-card-title">修复Homebrew warning Insecure world writable dir /usr/local/bin in PATH, mode 040777</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>某天手残,乱改目录权限,导致 Homebrew 频繁爆 warning ,虽然不影响使用,但是,作为一个强迫症,我看着难受啊.
 ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/img/ghost-icon.png" alt="Author" />
          <span class="post-card-author"><a href="/">EM</a></span>
      </footer>
    </div>
</article>
      
      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/post/macos-xue-xi-bi-ji-ikpicturetaker-wan-shua-ji-lu/">
      <div class="post-card-image" style="background-image: url(/defimg/1.jpg)"></div>
    </a>    
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/post/macos-xue-xi-bi-ji-ikpicturetaker-wan-shua-ji-lu/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #macOS 
              #Swift  </span>
              
              <h2 class="post-card-title">macOS学习笔记--IKPictureTaker玩耍记录</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>起因 某天,在mac交流群有人问到类似macQQ的选取头像功能怎么实现.印象中在Telegram上面有个相同的功能,就把Telegram的源码Clone下来查看了一番,于是定位到了这个组件,查阅了一下官方文档和Demo,确实是一个自带的控件.但是官方的范例是2013年的,而且还是远古时期的oc代码.于是就有了本篇博客.
 ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/img/ghost-icon.png" alt="Author" />
          <span class="post-card-author"><a href="/">EM</a></span>
      </footer>
    </div>
</article>
      
    </div>
  </div>
</aside>

<div class="floating-header">
  <div class="floating-header-logo">
    <a href="/">
      <img src="/hugo-logo.png" alt="" />
      <span></span>
    </a>
  </div>
  <span class="floating-header-divider">&mdash;</span>
  <div class="floating-header-title">macOS学习笔记--使用纯代码构建macOS应用</div>
  <div class="floating-header-share">
    <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
     <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg>
    </div>
    
    <a class="floating-header-share-tw" href="https://twitter.com/share?text=macOS%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0--%e4%bd%bf%e7%94%a8%e7%ba%af%e4%bb%a3%e7%a0%81%e6%9e%84%e5%bb%bamacOS%e5%ba%94%e7%94%a8&amp;url=%2fpost%2fmacos-xue-xi-bi-ji-shi-yong-chun-dai-ma-gou-jian-mac-ying-yong%2f"
          onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
      </a>
      <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=%2fpost%2fmacos-xue-xi-bi-ji-shi-yong-chun-dai-ma-gou-jian-mac-ying-yong%2f"
          onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
      </a>
  </div>

  <progress class="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>
</div>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">EM</a> © 2018 <br>
      <span style="font-size: 0.8em; color: #555;">Hugo port of <a href="https://github.com/TryGhost/Casper">Casper 2.1.7</a> by <a href="https://www.telematika.org">EM</a></span>
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        <a href="https://www.facebook.com/fakeghost" target="_blank" rel="noopener">Facebook</a>
        <a href="https://twitter.com/faketryghost" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/eueung" target="_blank" rel="noopener">Github</a>
        <a href="https://www.linkedin.com/in/eueung" target="_blank" rel="noopener">LinkedIn</a>
        
    </nav>  
  </div>
</footer>

</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.fitvids.js"></script>

<script>hljs.initHighlightingOnLoad();</script>



    <script>





$(document).ready(function () {
    
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>
</body></html>
